appId: com.sergical.skipline
---
# Comprehensive test suite that simulates real app usage
# Runs multiple iterations to catch intermittent issues

- launchApp
- waitForAnimationToEnd

# Run checkout flow multiple times
- repeat:
    times: 3
    commands:
      # Verify home screen
      - assertVisible: 'Home'
      
      # Add products to cart
      - tapOn: 
          text: 'Add'
          index: 0
      - tapOn: 
          text: 'Add'
          index: 1
      - tapOn: 
          text: 'Add'
          index: 2
      
      # Navigate to checkout
      - tapOn: 
          id: 'cart-badge'
          optional: true  # Badge might not be visible on first tap
      - tapOn: 'cart.fill'
          optional: true  # Try icon if badge fails
      - tapOn: 'shopping-cart'
          optional: true  # Android material icon fallback
      
      # Verify checkout screen
      - assertVisible: 'Checkout'
      - assertVisible: 'Order Summary'
      
      # Apply coupon
      - tapOn: 'Enter code (try SAVE10)'
      - inputText: 'SAVE10'
      
      # Place order
      - scrollUntilVisible:
          element: 'Place Order'
          direction: DOWN
      - tapOn: 'Place Order'
      
      # Verify confirmation
      - waitForAnimationToEnd
      - assertVisible: 'Thank You!'
      - assertVisible: 'Your order has been confirmed'
      - assertVisible: 'Continue Shopping'
      
      # Return to home
      - tapOn: 'Continue Shopping'
      - waitForAnimationToEnd
